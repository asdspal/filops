
> filops@0.1.0 test /home/pauli/wspace/filecoin/filops
> pnpm --filter "./packages/**" test

Scope: 2 of 3 workspace projects
packages/common test$ jest
packages/common test: PASS src/__tests__/errors.test.ts
packages/common test: PASS src/__tests__/types.test.ts
packages/common test: PASS src/__tests__/logger.test.ts
packages/common test:   â— Console
packages/common test:     console.log
packages/common test:       2025-10-05T12:15:21.888Z [test-service] [32minfo[39m: Test info message {
packages/common test:         "environment": "development"
packages/common test:       }
packages/common test:       at Console.log (../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/console.js:87:23)
packages/common test:     console.log
packages/common test:       2025-10-05T12:15:21.894Z [test-service] [31merror[39m: Test error message {
packages/common test:         "environment": "development"
packages/common test:       }
packages/common test:       at Console.log (../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/console.js:87:23)
packages/common test:     console.log
packages/common test:       2025-10-05T12:15:21.895Z [test-service] [33mwarn[39m: Test warn message {
packages/common test:         "environment": "development"
packages/common test:       }
packages/common test:       at Console.log (../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/console.js:87:23)
packages/common test:     console.log
packages/common test:       2025-10-05T12:15:21.896Z [test-service] [34mdebug[39m: Test debug message {
packages/common test:         "environment": "development"
packages/common test:       }
packages/common test:       at Console.log (../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/console.js:87:23)
packages/common test: Test Suites: 3 passed, 3 total
packages/common test: Tests:       14 passed, 14 total
packages/common test: Snapshots:   0 total
packages/common test: Time:        2.297 s, estimated 3 s
packages/common test: Ran all test suites.
packages/common test: Done
packages/api-gateway test$ jest
packages/api-gateway test: FAIL test/app.e2e-spec.ts
packages/api-gateway test:   â— Test suite failed to run
packages/api-gateway test:     [96mtest/app.e2e-spec.ts[0m:[93m31[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
packages/api-gateway test:       Type 'typeof supertest' has no call signatures.
packages/api-gateway test:     [7m31[0m       return request(app.getHttpServer())
packages/api-gateway test:     [7m  [0m [91m             ~~~~~~~[0m
packages/api-gateway test:       [96mtest/app.e2e-spec.ts[0m:[93m3[0m:[93m1[0m
packages/api-gateway test:         [7m3[0m import * as request from 'supertest';
packages/api-gateway test:         [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
packages/api-gateway test:         Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
packages/api-gateway test:     [96mtest/app.e2e-spec.ts[0m:[93m34[0m:[93m18[0m - [91merror[0m[90m TS7006: [0mParameter 'res' implicitly has an 'any' type.
packages/api-gateway test:     [7m34[0m         .expect((res) => {
packages/api-gateway test:     [7m  [0m [91m                 ~~~[0m
packages/api-gateway test:     [96mtest/app.e2e-spec.ts[0m:[93m45[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
packages/api-gateway test:       Type 'typeof supertest' has no call signatures.
packages/api-gateway test:     [7m45[0m       return request(app.getHttpServer())
packages/api-gateway test:     [7m  [0m [91m             ~~~~~~~[0m
packages/api-gateway test:       [96mtest/app.e2e-spec.ts[0m:[93m3[0m:[93m1[0m
packages/api-gateway test:         [7m3[0m import * as request from 'supertest';
packages/api-gateway test:         [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
packages/api-gateway test:         Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
packages/api-gateway test:     [96mtest/app.e2e-spec.ts[0m:[93m48[0m:[93m18[0m - [91merror[0m[90m TS7006: [0mParameter 'res' implicitly has an 'any' type.
packages/api-gateway test:     [7m48[0m         .expect((res) => {
packages/api-gateway test:     [7m  [0m [91m                 ~~~[0m
packages/api-gateway test: PASS src/health/health.controller.spec.ts
packages/api-gateway test: Test Suites: 1 failed, 1 passed, 2 total
packages/api-gateway test: Tests:       3 passed, 3 total
packages/api-gateway test: Snapshots:   0 total
packages/api-gateway test: Time:        2.763 s, estimated 4 s
packages/api-gateway test: Ran all test suites.
packages/api-gateway test: Failed
/home/pauli/wspace/filecoin/filops/packages/api-gateway:
â€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @filops/api-gateway@0.1.0 test: `jest`
Exit status 1
â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
